<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Daily Updates Dashboard</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        
        // Lucide React icons as inline SVG components
        const RefreshCw = ({ className, ...props }) => (
            <svg className={className} {...props} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M21 2v6h-6M3 12a9 9 0 0 1 15-6.7L21 8M3 22v-6h6M21 12a9 9 0 0 1-15 6.7L3 16"/>
            </svg>
        );
        
        const Bell = ({ className }) => (
            <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9M13.73 21a2 2 0 0 1-3.46 0"/>
            </svg>
        );
        
        const Calendar = ({ className }) => (
            <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
        );
        
        const ExternalLink = ({ className }) => (
            <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"/>
            </svg>
        );
        
        const Sparkles = ({ className }) => (
            <svg className={className} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M12 3l1.912 5.813a2 2 0 0 0 1.275 1.275L21 12l-5.813 1.912a2 2 0 0 0-1.275 1.275L12 21l-1.912-5.813a2 2 0 0 0-1.275-1.275L3 12l5.813-1.912a2 2 0 0 0 1.275-1.275L12 3z"/>
            </svg>
        );

        const AINewsDashboard = () => {
            const [updates, setUpdates] = useState([]);
            const [loading, setLoading] = useState(false);
            const [lastUpdate, setLastUpdate] = useState(null);
            const [schedule, setSchedule] = useState('09:00');
            const [emailNotifications, setEmailNotifications] = useState(false);

            const fetchAIUpdates = async () => {
                setLoading(true);
                
                try {
                    const response = await fetch('https://api.anthropic.com/v1/messages', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            model: 'claude-sonnet-4-20250514',
                            max_tokens: 1000,
                            messages: [{
                                role: 'user',
                                content: `Search the web for the latest AI advancements, tool releases, and major updates from the past 24 hours. Focus on:
- New AI model releases or updates
- AI tool enhancements and new features
- Breakthrough research or papers
- Industry news from companies like OpenAI, Anthropic, Google, Meta, etc.

Format your response as a JSON array with this structure:
[
  {
    "title": "Brief headline",
    "summary": "2-3 sentence summary",
    "source": "Source name",
    "category": "Models/Tools/Research/Industry",
    "date": "Today's date"
  }
]

Return ONLY the JSON array, no other text.`
                            }],
                            tools: [{
                                type: "web_search_20250305",
                                name: "web_search"
                            }]
                        })
                    });

                    const data = await response.json();
                    const content = data.content
                        .map(item => item.type === 'text' ? item.text : '')
                        .join('\n')
                        .trim();
                    
                    const cleanContent = content.replace(/```json|```/g, '').trim();
                    const newsItems = JSON.parse(cleanContent);
                    
                    setUpdates(newsItems);
                    setLastUpdate(new Date().toLocaleString());
                } catch (error) {
                    console.error('Error fetching updates:', error);
                    setUpdates([
                        {
                            title: "Demo: Claude 4.5 Sonnet Released",
                            summary: "Anthropic announces Claude 4.5 Sonnet with improved reasoning and coding capabilities. The model shows significant improvements in complex task handling.",
                            source: "Anthropic Blog",
                            category: "Models",
                            date: new Date().toLocaleDateString()
                        },
                        {
                            title: "Demo: ChatGPT Canvas Update",
                            summary: "OpenAI enhances Canvas feature with better code editing and collaborative writing tools. Users report improved workflow integration.",
                            source: "OpenAI",
                            category: "Tools",
                            date: new Date().toLocaleDateString()
                        },
                        {
                            title: "Demo: New Vision Model Research",
                            summary: "Researchers publish breakthrough paper on multimodal understanding. The approach shows 15% improvement on standard benchmarks.",
                            source: "arXiv",
                            category: "Research",
                            date: new Date().toLocaleDateString()
                        }
                    ]);
                    setLastUpdate(new Date().toLocaleString() + ' (Demo Mode)');
                } finally {
                    setLoading(false);
                }
            };

            const getCategoryColor = (category) => {
                const colors = {
                    Models: 'bg-purple-100 text-purple-800',
                    Tools: 'bg-blue-100 text-blue-800',
                    Research: 'bg-green-100 text-green-800',
                    Industry: 'bg-orange-100 text-orange-800'
                };
                return colors[category] || 'bg-gray-100 text-gray-800';
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6">
                    <div className="max-w-5xl mx-auto">
                        <div className="bg-white rounded-2xl shadow-lg p-6 mb-6">
                            <div className="flex items-center justify-between mb-4">
                                <div className="flex items-center gap-3">
                                    <Sparkles className="w-8 h-8 text-indigo-600" />
                                    <h1 className="text-3xl font-bold text-gray-800">AI Daily Updates</h1>
                                </div>
                                <button
                                    onClick={fetchAIUpdates}
                                    disabled={loading}
                                    className="flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50"
                                >
                                    <RefreshCw className={`w-4 h-4 ${loading ? 'animate-spin' : ''}`} />
                                    {loading ? 'Fetching...' : 'Fetch Updates'}
                                </button>
                            </div>

                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 pt-4 border-t">
                                <div className="flex items-center gap-3">
                                    <Calendar className="w-5 h-5 text-gray-600" />
                                    <label className="text-sm font-medium text-gray-700">Daily Update Time:</label>
                                    <input
                                        type="time"
                                        value={schedule}
                                        onChange={(e) => setSchedule(e.target.value)}
                                        className="border rounded px-3 py-1 text-sm"
                                    />
                                </div>
                                <div className="flex items-center gap-3">
                                    <Bell className="w-5 h-5 text-gray-600" />
                                    <label className="flex items-center gap-2 text-sm font-medium text-gray-700">
                                        <input
                                            type="checkbox"
                                            checked={emailNotifications}
                                            onChange={(e) => setEmailNotifications(e.target.checked)}
                                            className="rounded"
                                        />
                                        Email Notifications
                                    </label>
                                </div>
                            </div>

                            {lastUpdate && (
                                <div className="mt-4 pt-4 border-t text-sm text-gray-600">
                                    Last updated: {lastUpdate}
                                </div>
                            )}
                        </div>

                        <div className="space-y-4">
                            {updates.length === 0 ? (
                                <div className="bg-white rounded-2xl shadow-lg p-12 text-center">
                                    <Sparkles className="w-16 h-16 text-gray-300 mx-auto mb-4" />
                                    <p className="text-gray-500 text-lg">Click "Fetch Updates" to get the latest AI news</p>
                                </div>
                            ) : (
                                updates.map((item, index) => (
                                    <div key={index} className="bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow p-6">
                                        <div className="flex items-start justify-between mb-3">
                                            <div className="flex-1">
                                                <div className="flex items-center gap-2 mb-2">
                                                    <span className={`px-3 py-1 rounded-full text-xs font-semibold ${getCategoryColor(item.category)}`}>
                                                        {item.category}
                                                    </span>
                                                    <span className="text-xs text-gray-500">{item.date}</span>
                                                </div>
                                                <h3 className="text-xl font-bold text-gray-800 mb-2">{item.title}</h3>
                                                <p className="text-gray-600 leading-relaxed">{item.summary}</p>
                                            </div>
                                            <ExternalLink className="w-5 h-5 text-gray-400 ml-4 flex-shrink-0" />
                                        </div>
                                        <div className="flex items-center gap-2 text-sm text-gray-500 mt-3 pt-3 border-t">
                                            <span className="font-medium">Source:</span>
                                            <span>{item.source}</span>
                                        </div>
                                    </div>
                                ))
                            )}
                        </div>

                        <div className="mt-6 bg-indigo-50 border border-indigo-200 rounded-xl p-4">
                            <h3 className="font-semibold text-indigo-900 mb-2">How to use:</h3>
                            <ul className="text-sm text-indigo-800 space-y-1">
                                <li>• Click "Fetch Updates" to get the latest AI news using web search</li>
                                <li>• Set your preferred daily update time</li>
                                <li>• Enable email notifications to receive updates automatically</li>
                                <li>• Updates are categorized by Models, Tools, Research, and Industry news</li>
                            </ul>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<AINewsDashboard />, document.getElementById('root'));
    </script>
</body>
</html>
